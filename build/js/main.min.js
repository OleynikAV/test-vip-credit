$(function(){var a,n,e=$("#calc-range-summ"),t=$("#summ"),o=$(".calc-form__summ"),s=12e3,i=$("#calc-range__term"),r=$("#term"),l=$(".calc-form__term");$(window).scroll(function(){200<=$(this).scrollTop()?($(".header").addClass("header--scrolled"),$(".button-top").addClass("button-top--visible")):($(".header").removeClass("header--scrolled"),$(".button-top").removeClass("button-top--visible"))});var m=$("html, body");$('a[href*="#"]').click(function(){return m.animate({scrollTop:$($.attr(this,"href")).offset().top},400),!1}),e.ionRangeSlider({type:"single",min:s,max:1e5,from:15e3,step:100,grid:!1,onStart:function(e){summ=e.form,t.prop("value",e.from+" ₴"),$("#money").prop("value",e.from+" ₴")},onChange:function(e){summ=e.form,t.prop("value",e.from+" ₴"),$("#money").prop("value",e.from+" ₴")}}),a=e.data("ionRangeSlider"),t.on("keyup","input",function(){$(this).val().replace(/\D+/g,"")}),t.on("change",function(){var e=$(this).prop("value"),t=parseInt(e);$("#money").prop("value",t+" ₴"),t<s?t=s:1e5<t&&(t=1e5),a.update({from:t}),e=t+" ₴",$(this).prop("value",e),o.text(t.toFixed(2)+" грн")}),i.ionRangeSlider({type:"single",min:1,max:60,from:30,step:1,grid:!1,onStart:function(e){term=e.form,r.prop("value",e.from+" дней"),$("#days").prop("value",e.from+" дней")},onChange:function(e){term=e.form,r.prop("value",e.from+" дней"),$("#days").prop("value",e.from+" дней")}}),n=i.data("ionRangeSlider"),r.on("keyup","input",function(){$(this).val().replace(/\D+/g,"")}),r.on("change",function(){var e=$(this).prop("value"),t=parseInt(e);$("#days").prop("value",t+" дней"),t<1?t=1:60<t&&(t=60),n.update({from:t}),e=t+" дней",$(this).prop("value",e),l.text(t+" дней"),console.log(n)}),$("#start-form").on("click",function(){$("html").addClass("noscroll"),$(".modal-overlay").fadeIn(500),$(".modal-wrapper").fadeIn(600),parseInt(r.val())<=7?$(".calc-item__value").text("0,1% в день").addClass("calc-item__value--strong"):$(".calc-item__value").text("1,67% в день").removeClass("calc-item__value--strong")}),$("#modal-close").on("click",function(){$("html").removeClass("noscroll"),$(".modal-overlay").fadeOut(500)}),$("#modal-succes-close").on("click",function(){$("html").removeClass("noscroll"),$(".form-succes, .modal-overlay").fadeOut(500),$(".text-input__wrapper input, .text-input__wrapper textarea").data("track",!1)});new Rellax(".parallax-item",{center:!0,wrapper:null,round:!0,vertical:!0,horizontal:!1});var c,d,p=document.getElementById("scene"),p=(new Parallax(p,{relativeInput:!0}),document.getElementById("scene__mobile")),u=(new Parallax(p,{relativeInput:!0}),window.location.href.toString().split(window.location.host)[1].startsWith("/uk/")?"uk":"ru"),f={ru:[{name:"Наталия",sex:"f"},{name:"Виктория",sex:"f"},{name:"Людмила",sex:"f"},{name:"Елена",sex:"f"},{name:"Анастасия",sex:"f"},{name:"Вероника",sex:"f"},{name:"Марина",sex:"f"},{name:"Анна",sex:"f"},{name:"Алла",sex:"f"},{name:"Ирина",sex:"f"},{name:"Ксения",sex:"f"},{name:"Оксана",sex:"f"},{name:"Карина",sex:"f"},{name:"Екатерина",sex:"f"},{name:"Александр",sex:"m"},{name:"Алексей",sex:"m"},{name:"Иван",sex:"m"},{name:"Сергей",sex:"m"},{name:"Владимир",sex:"m"},{name:"Олег",sex:"m"},{name:"Игорь",sex:"m"},{name:"Виталий",sex:"m"},{name:"Андрей",sex:"m"},{name:"Дмитрий",sex:"m"},{name:"Анатолий",sex:"m"},{name:"Павел",sex:"m"},{name:"Денис",sex:"m"},{name:"Константин",sex:"m"}],uk:[{name:"Наталка",sex:"f"},{name:"Викторія",sex:"f"},{name:"Людмила",sex:"f"},{name:"Олена",sex:"f"},{name:"Анастасія",sex:"f"},{name:"Вероніка",sex:"f"},{name:"Марина",sex:"f"},{name:"Ганна",sex:"f"},{name:"Алла",sex:"f"},{name:"Ірина",sex:"f"},{name:"Ксенія",sex:"f"},{name:"Оксана",sex:"f"},{name:"Каріна",sex:"f"},{name:"Катерина",sex:"f"},{name:"Олександр",sex:"m"},{name:"Олексій",sex:"m"},{name:"Іван",sex:"m"},{name:"Сергій",sex:"m"},{name:"Володимир",sex:"m"},{name:"Олег",sex:"m"},{name:"Игор",sex:"m"},{name:"Віталій",sex:"m"},{name:"Андрій",sex:"m"},{name:"Дмитро",sex:"m"},{name:"Анатолій",sex:"m"},{name:"Павло",sex:"m"},{name:"Денис",sex:"m"},{name:"Костянтин",sex:"m"}]},v={ru:["Киева","Днепра","Харькова","Одессы","Львова","Запорожья","Винницы","Кропивницкого","Николаева","Херсона","Чернигова","Черкасс","Сум","Житомира","Луцка","Ивано-Франковска","Тернополя","Кривого Рога","Белой Церкови","Черновцов","Полтавы","Кременчуга","Желтых вод","Ужгорода","Измаила","Александрии","Павлограда","Красноармейска"],uk:["Київа","Дніпра","Харкова","Одеси","Львова","Запоріжжя","Винниці","Кропивницького","Миколаїва","Херсона","Чернігіва","Черкас","Сум","Житомира","Луцька","Ивано-Франківска","Тернополя","Кривого Рога","Білої Церкви","Чернівців","Полтаві","Кременчуга","Жовтих вод","Ужгорода","Измаїла","Олександрії","Павлограда","Червоноармійська"]},h=[14800,17600,21200,13100,21300,23200,11800,22400,13600,12700,10600,21400,15500,19600,23700,23100,14400,24600,16600,10100,15200,19100,21e3,19200,18200,12200,12300,22200,14500,23400,24e3,16900,16e3,13400,23600,18600,21700,13700,14600,14e3,12e3,13200,12500,10500,24900,11400,13800,16700,21800,15400,22100,18800,24700,18300];function x(e){var t;e.files&&e.files[0]&&((t=new FileReader).onload=function(e){$("#image-prev-"+c).attr("src",e.target.result)},t.readAsDataURL(e.files[0]))}toastr.options={closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!0,positionClass:"toast-bottom-left",preventDuplicates:!0,onclick:null,showDuration:"400",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},jQuery(document).ready(function(e){var r=new Intl.NumberFormat("ru-RU");function l(e){return e[Math.floor(Math.random()*e.length)]}setInterval(function(){var e,t,a=[l(f[u]),l(v[u]),(e=l(h),t=Number.parseFloat(e).toFixed(0),r.format(t))],n=a[0],o=a[1],s=a[2],i=l({ru:["".concat(n.name," из ").concat(o,"  только что  ").concat("m"===n.sex?"получил ":"получила ",' кредит на <span class="toast-strong">').concat(s,"  грн.</span>"),"".concat(n.name,"  из ").concat(o,"  только что  ").concat("m"===n.sex?"подал ":"подала ",' заявку на <span class="toast-strong">').concat(s,"  грн.</span>")],uk:["".concat(n.name," з ").concat(o,"  щойно  ").concat("m"===n.sex?"отримав ":"отримала ",' кредит на <span class="toast-strong">').concat(s,"  грн.</span>"),"".concat(n.name," з ").concat(o,"  щойно  ").concat("m"===n.sex?"подав ":"подала ",' заявку на <span class="toast-strong">').concat(s,"  грн.</span>")]}[u]);toastr.info(i)},3e4)}),$(".howto__toggle").on("click",function(){$(".howto__wrapper").toggleClass("howto__wrapper--active"),$(".howto-text-1").toggle(),$(".howto-text-2").toggle(),$(".howto__toggle-1").toggle(),$(".howto__toggle-2").toggle()}),$(".input-name").inputmask({mask:"*{3,30} *{3,30} *{3,30}",greedy:!1,validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",onincomplete:function(){var e=this;$(this).parent().addClass("invalid"),setTimeout(function(){$(e).parent().removeClass("invalid")},3e3)}}),$("[type='tel']").inputmask({mask:"+380 (99) 999-99-99",greedy:!1,onincomplete:function(){var e=this;$(this).parent().addClass("invalid"),setTimeout(function(){$(e).parent().removeClass("invalid")},3e3)},validator:"[0-9]"}),$("#card").inputmask({mask:"9999 9999 9999 9999",greedy:!1,onincomplete:function(){var e=this;$(this).parent().addClass("invalid"),setTimeout(function(){$(e).parent().removeClass("invalid")},3e3)},validator:"[0-9]"}),$(".input-email").inputmask({mask:"*{1,20}[.*{1,20}][.*{1,20}][.*{1,20}]@*{1,20}.*{2,6}[.*{1,2}]",greedy:!1,onBeforePaste:function(e){return(e=e.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"},onincomplete:function(){var e=this;$(this).parent().addClass("invalid"),setTimeout(function(){$(e).parent().removeClass("invalid")},3e3)}}}),$(".text-input").on("input, change",function(){$(this).val()}),$(".bottom__input-file").on("change",function(){0!=$(this).val().length?$(".bottom__input-descr").text("Удалить или изменить файл(ы)"):$(".bottom__input-descr").text("Добавить файл(ы)")}),$(".modal-form").on("submit",function(e){e.preventDefault();var t=$(this).attr("action");$(this).ajaxSubmit({url:t,type:"post",success:function(){$(".image-prev").attr("src","#"),$(".modal-form").trigger("reset"),$(".modal-wrapper").fadeOut(500),$(".form-succes").fadeIn(500),setTimeout(function(){$(".form-succes, .modal-overlay").fadeOut(500),setTimeout(function(){g=0,$("#modal-step__current").text(g),$("#money").val($("#summ").val()),$("#days").val($("#term").val())},600),$("html").removeClass("noscroll")},1e4)},error:function(){$(".image-prev").attr("src","#"),$(".modal-form").trigger("reset"),$(".modal-wrapper").fadeOut(500),$(".form-error").fadeIn(500),setTimeout(function(){$(".form-succes, .modal-overlay").fadeOut(500),setTimeout(function(){g=0,$("#modal-step__current").text(g),$("#money").val($("#summ").val()),$("#days").val($("#term").val())},600),$("html").removeClass("noscroll")},1e4)}})}),$(document).on("change",".photo",function(){c=$(this).data("pic"),x(this),d=c+1,console.log($(this).val()),$(this).parents("#file-container-"+c).find(".clear-file").removeClass("hidden"),$(this).siblings(".upload-field__icon, .upload-field__text, .upload-field__title").addClass("hidden"),""!=$(this).val()&&3<=c&&c<7&&($("#file-container-"+c).after('<div class="upload-file-container" id="file-container-'+d+'"><button class="clear-file hidden" type="button" data-pic="'+d+'"></button><img class="image-prev" id="image-prev-'+d+'" src="#" alt="" /><div class = "upload-file-container-text"><span class="upload-field__text">Добавить фото</span><img src="img/add.svg" alt="" class="upload-field__icon"><input type="file" name="scan[]" class="photo" id="imgInput-'+d+'"data-pic="'+d+'" accept=".png, .jpg, .jpeg, .pdf, .tiff, .tif" /></div></div>'),console.log("picId = "+c+" / picNext = "+d))}),$(document).on("click",".clear-file",function(e){c=$(this).data("pic"),d=c+1,$("#imgInput-"+c).val(""),$("#image-prev-"+c).attr("src","#"),x("#imgInput-"+c),$(this).addClass("hidden"),$(this).siblings(".upload-file-container-text").children().removeClass("hidden"),3<c&&$(".upload-file-container:last-of-type").remove(),(c=2<d)&&$("#file-container-4").remove(),console.log("picId = "+c)}),$("#rules").change(function(){this.checked?$('button[type = "submit"]').prop("disabled",!1).removeClass("disabled"):$('button[type = "submit"]').prop("disabled",!0).addClass("disabled")}),$("#fop-check").on("change",function(){console.log($(this).checked),!0===$(this).prop("checked")?($(".fop__text").fadeIn(260),$("#fop-textarea").attr({disabled:!1,required:!0})):($(".fop__text").fadeOut(260),$("#fop-textarea").attr({disabled:!0,required:!1}))});var g=0;$(".text-input__wrapper input, .text-input__wrapper textarea").on("change",function(){0<$(this).val().length&&$(this).parent().not(".invalid")&&!0!==$(this).parent().data("track")?(g++,$(this).parent().data("track",!0)):!0===$(this).parent().data("track")&&0===$(this).val().length&&(--g,$(this).parent().data("track",!1)),$("#modal-step__current").text(g),console.log($(this).parent().data("track"))})});